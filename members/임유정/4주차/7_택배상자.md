# 문제 링크

[택배상자](https://school.programmers.co.kr/learn/courses/30/lessons/131704)

# 1. 내 풀이

### 문제요점

- k자연수
- 짝수이면 /2
- 홀수이면 \*3+1
- 결과가 1보다 크면 위 작업을 반복
- 정적분 = 공간면적
- n은 1이 될때까지의 횟수
- 시작점 > 끝점인 경우엔 -1
- 구간 [a, b]에서 b가 배열의 끝에서부터 b번째

## 풀이 방법

```js
function solution(k, ranges) {
  var answer = [];
  const arr = [k];

  // k가 1이 될때까지 그래프를 정리
  while (k > 1) {
    k = k % 2 === 0 ? (k /= 2) : k * 3 + 1;
    arr.push(k);
  }
  // 각 구역마다 넓이 구하기
  const areas = [];
  for (let i = 0; i < arr.length - 1; ++i) {
    const area = (arr[i] + arr[i + 1]) / 2; // 사다리꼴 넓이 구하는 공식, 높이는 1
    areas.push(area);
  }
  // 각 range마다 구간사이의 넓이 합구하기
  const len = areas.length;
  for (let [start, end] of ranges) {
    end = len + end;
    // 시작 > 끝인 경우엔 -1
    if (start > end) {
      answer.push(-1);
      continue;
    }
    const slice = areas.slice(start, end);
    answer.push(slice.reduce((acc, curr) => acc + curr, 0));
  }
  return answer;
}
```

### 문제풀이

- k가 1이 될때까지 그래프를 정리한다
- x기준으로 각 구역마다 넓이(정적분)를 구한다. 이때 넓이는 사다리꼴 넓이 구하는 공식을 사용한다, 높이는 1이다
- 각 range마다 start, end를 정리한다. 여기서 end는 끝에서 i번째이다
- start > end인 경우 answer에 -1를 push
- 그 외의 경우에는 areas의 부분넓이의 합을 push한다.

# 2. 느낀 점

- 처음엔 그래프를 보고 겁 먹었는데 그럴 필요 없었다

# 3. 배운 점
